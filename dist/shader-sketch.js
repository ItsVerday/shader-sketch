!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=25)}([function(e,t,o){"use strict";o.r(t),t.default="const float PI=3.1415926535897932384626433832795;float map(float A,float B,float C,float D,float E){return(A-B)/(C-B)*(E-D)+D;}"},function(e,t,o){"use strict";o.r(t),t.default="struct RayMarch{int iterations;int maxIterations;vec3 position;vec3 direction;float epsilon;bool finished;bool hit;float smallestDistance;vec3 closestPosition;float emission;};RayMarch create_raymarch(vec3 position,vec3 direction,int maxIterations){return RayMarch(0,maxIterations,position,direction,0.0001,false,false,999999999.,vec3(0.,0.,0.),0.);}RayMarch iterate_raymarch(RayMarch A,float B){A.iterations++;if(B<A.epsilon){A.finished=true;A.hit=true;return A;}if(A.iterations>A.maxIterations){A.finished=true;return A;}A.position+=normalize(A.direction)*B;float emission=1./(B+1.);if(A.emission<emission){A.emission=emission;}if(B<A.smallestDistance){A.smallestDistance=B;A.closestPosition=A.position;}return A;}vec3 raymarch_normal(float C,float D,float E,float F){return normalize(vec3(C-D,C-E,C-F));}float raymarch_ambient_occlusion(RayMarch A,float G){return pow(1.-G,float(A.iterations));}float raymarch_emission(RayMarch A,float H,float G){return H*G*(2./(1.+exp(-A.emission/H))-1.);}"},function(e,t,o){"use strict";o.r(t),t.default="vec3 camera_look(float A,float B,float C,float D,vec2 E){E=E*2.-1.;B=B*PI/180.;A=A*PI/180.;C/=2.;vec3 F=vec3(cos(A)*cos(B),sin(B),sin(A)*cos(B));vec3 G=vec3(cos(A)*cos(B+PI/2.),sin(B+PI/2.),sin(A)*cos(B+PI/2.));vec3 H=cross(F,G);E.y/=D;float I=tan(C*PI/180.);G*=I;H*=I;return normalize(F+H*E.x+G*E.y);}"},function(e,t,o){"use strict";o.r(t),t.default='["clover_noise_2d","clover_noise_3d"]'},function(e,t,o){"use strict";o.r(t),t.default="const float CLOVER_NOISE_2D_POINT_SPREAD=.3;const float CLOVER_NOISE_2D_PI=radians(180.);float clover_noise_2d_hash(vec2 A){return fract(1e4*sin(17.*A.x+A.y*0.1)*(0.1+abs(sin(A.y*13.+A.x))));}vec2 clover_noise_2d_offset(vec2 A,float B){vec2 C=vec2(sin(B*CLOVER_NOISE_2D_PI*100.),cos(B*CLOVER_NOISE_2D_PI*100.))*floor(B*50.+1.)*.01+.5;return A+C*CLOVER_NOISE_2D_POINT_SPREAD*2.+.5-CLOVER_NOISE_2D_POINT_SPREAD;}float clover_noise_2d(vec2 A){vec2 D=floor(A);vec2 E=clover_noise_2d_offset(D,clover_noise_2d_hash(D));vec2 F=D+vec2(0,-1);F=clover_noise_2d_offset(F,clover_noise_2d_hash(F));vec2 G=D+vec2(0,1);G=clover_noise_2d_offset(G,clover_noise_2d_hash(G));vec2 H=D+vec2(-1,0);H=clover_noise_2d_offset(H,clover_noise_2d_hash(H));vec2 I=D+vec2(1,0);I=clover_noise_2d_offset(I,clover_noise_2d_hash(I));vec2 J=(A-E).yx;vec2 K=J*E;vec2 L=K-J*H;vec2 M=K-J*I;vec2 N,O,P;if((L.y-L.x<0.&&A.x<E.x)||(M.y-M.x>0.&&A.x>=E.x)){vec2 Q=K-J*G;if(Q.y-Q.x>0.){N=G;O=H;P=vec2(-1,1);}else{N=I;O=G;P=vec2(1,1);}}else{vec2 R=K-J*F;if(R.y-R.x>0.){N=F;O=I;P=vec2(1,-1);}else{N=H;O=F;P=vec2(-1,-1);}}P=clover_noise_2d_offset(D+P,clover_noise_2d_hash(D+P));vec2 S=N;vec2 T=O;vec2 U=P;vec2 V=N-O;vec2 W=E-P;if(V.x*V.x+V.y*V.y<W.x*W.x+W.y*W.y){vec2 X=A-N;if(X.x*V.y-X.y*V.x>0.){U=E;}}else{vec2 Y=A-E;if(Y.x*W.y-Y.y*W.x>0.){S=E;}else{T=E;}}vec2 Z=T-S;vec2 a=U-S;vec2 b=A-S;float c=1./(Z.x*a.y-a.x*Z.y);float d=(b.x*a.y-a.x*b.y)*c;float e=(Z.x*b.y-b.x*Z.y)*c;float f=1.-d-e;d=d*d*d;e=e*e*e;f=f*f*f;float g=1./(f+d+e);d*=g;e*=g;f*=g;float h=clover_noise_2d_hash(S);float i=clover_noise_2d_hash(T);float j=clover_noise_2d_hash(U);return f*h+d*i+e*j;}float fractal_clover_noise_2d(vec2 A,int k){float l=0.;float m=0.;float n=1.;float o=1.;for(int p=0;p<10;p++){if(p>=k){break;}l+=clover_noise_2d(A*o)*n;m+=n;n*=.4;o*=2.5;}return l/m;}vec2 curl_clover_noise_2d(vec2 A){const float q=0.01;float d=clover_noise_2d(A);float r=clover_noise_2d(A+vec2(q,0.));float s=clover_noise_2d(A+vec2(0.,q));return normalize(vec2(d-r,d-s));}vec2 curl_fractal_clover_noise_2d(vec2 A,int k){const float q=0.01;float d=fractal_clover_noise_2d(A,k);float r=fractal_clover_noise_2d(A+vec2(q,0.),k);float s=fractal_clover_noise_2d(A+vec2(0.,q),k);return normalize(vec2(d-r,d-s));}"},function(e,t,o){"use strict";o.r(t),t.default="const float CLOVER_NOISE_3D_POINT_SPREAD=.2;const float CLOVER_NOISE_3D_PI=radians(180.);float clover_noise_3d_hash(vec3 A){return fract(1e4*sin(17.*A.x+A.y*0.1)*(0.1+abs(sin(A.y*13.+A.x-A.z))*sin(12.*A.z-sin(A.x*10.))));}vec3 clover_noise_3d_offset(vec3 A,float B){float C=B*CLOVER_NOISE_3D_PI*2000.;float D=(fract((floor(B*1000.)+.5)/100.)-.5)*CLOVER_NOISE_3D_PI/2.;float E=floor(B*10.+1.)*.1;vec3 F=vec3(sin(C)*cos(D),sin(D),cos(C)*cos(D))*E+.5;return A+F*CLOVER_NOISE_3D_POINT_SPREAD*2.+.5-CLOVER_NOISE_3D_POINT_SPREAD;}bool G(vec3 A,vec3 H,vec3 I,vec3 J,vec3 K,vec3 L,vec3 M,vec3 N,vec3 O,vec3 P){vec2 Q=A.yx-L.yx;vec2 R=Q*L.xy;vec2 S=R-Q*K.xy;vec2 T=R-Q*M.xy;vec3 U,V,W,X;if((S.y-S.x<0.&&A.x<L.x)||(T.y-T.x>0.&&A.x>=L.x)){vec2 Y=R-Q*O.xy;if(Y.y-Y.x>0.){U=K;V=N;W=O;X=L;}else{U=L;V=O;W=P;X=M;}}else{vec2 Z=R-Q*I.xy;if(Z.y-Z.x>0.){U=I;V=L;W=M;X=J;}else{U=H;V=K;W=L;X=I;}}vec3 a=U;vec3 b=W;vec3 c=X;vec3 d=U-W;vec3 e=A-U;if(e.x*d.y-e.y*d.x>0.){c=V;}vec2 f=b.xy-a.xy;vec2 g=c.xy-a.xy;vec2 h=A.xy-a.xy;float i=1./(f.x*g.y-g.x*f.y);float j=(h.x*g.y-g.x*h.y)*i;float k=(f.x*h.y-h.x*f.y)*i;float l=1.-j-k;return A.z<l*a.z+j*b.z+k*c.z;}float clover_noise_3d(vec3 A){vec3 m=floor(A);vec3 n=clover_noise_3d_offset(m,clover_noise_3d_hash(m));vec3 o=m+vec3(0,-1,-1);o=clover_noise_3d_offset(o,clover_noise_3d_hash(o));vec3 p=m+vec3(-1,0,-1);p=clover_noise_3d_offset(p,clover_noise_3d_hash(p));vec3 q=m+vec3(0,0,-1);q=clover_noise_3d_offset(q,clover_noise_3d_hash(q));vec3 r=m+vec3(1,0,-1);r=clover_noise_3d_offset(r,clover_noise_3d_hash(r));vec3 s=m+vec3(0,1,-1);s=clover_noise_3d_offset(s,clover_noise_3d_hash(s));vec3 t=m+vec3(-1,-1,0);t=clover_noise_3d_offset(t,clover_noise_3d_hash(t));vec3 u=m+vec3(0,-1,0);u=clover_noise_3d_offset(u,clover_noise_3d_hash(u));vec3 v=m+vec3(1,-1,0);v=clover_noise_3d_offset(v,clover_noise_3d_hash(v));vec3 w=m+vec3(-1,0,0);w=clover_noise_3d_offset(w,clover_noise_3d_hash(w));vec3 x=m+vec3(1,0,0);x=clover_noise_3d_offset(x,clover_noise_3d_hash(x));vec3 y=m+vec3(-1,1,0);y=clover_noise_3d_offset(y,clover_noise_3d_hash(y));vec3 z=m+vec3(0,1,0);z=clover_noise_3d_offset(z,clover_noise_3d_hash(z));vec3 AA=m+vec3(1,1,0);AA=clover_noise_3d_offset(AA,clover_noise_3d_hash(AA));vec3 AB=m+vec3(0,-1,1);AB=clover_noise_3d_offset(AB,clover_noise_3d_hash(AB));vec3 AC=m+vec3(-1,0,1);AC=clover_noise_3d_offset(AC,clover_noise_3d_hash(AC));vec3 AD=m+vec3(0,0,1);AD=clover_noise_3d_offset(AD,clover_noise_3d_hash(AD));vec3 AE=m+vec3(1,0,1);AE=clover_noise_3d_offset(AE,clover_noise_3d_hash(AE));vec3 AF=m+vec3(0,1,1);AF=clover_noise_3d_offset(AF,clover_noise_3d_hash(AF));bool AG=G(A.yzx,o.yzx,q.yzx,s.yzx,u.yzx,n.yzx,z.yzx,AB.yzx,AD.yzx,AF.yzx);bool AH=G(A.xzy,p.xzy,q.xzy,r.xzy,w.xzy,n.xzy,x.xzy,AC.xzy,AD.xzy,AE.xzy);bool AI=G(A,t,u,v,w,n,x,y,z,AA);vec3 U,V,W,X,AJ,a,b,c;if(AG){if(AH){if(AI){U=m+vec3(-1,-1,-1);V=t;W=p;X=w;AJ=o;a=u;b=q;c=n;U=clover_noise_3d_offset(U,clover_noise_3d_hash(U));}else{U=t;V=m+vec3(-1,-1,1);W=w;X=AC;AJ=u;a=AB;b=n;c=AD;V=clover_noise_3d_offset(V,clover_noise_3d_hash(V));}}else{if(AI){U=p;V=w;W=m+vec3(-1,1,-1);X=y;AJ=q;a=n;b=s;c=z;W=clover_noise_3d_offset(W,clover_noise_3d_hash(W));}else{U=w;V=AC;W=y;X=m+vec3(-1,1,1);AJ=n;a=AD;b=z;c=AF;X=clover_noise_3d_offset(X,clover_noise_3d_hash(X));}}}else{if(AH){if(AI){U=o;V=u;W=q;X=n;AJ=m+vec3(1,-1,-1);a=v;b=r;c=x;AJ=clover_noise_3d_offset(AJ,clover_noise_3d_hash(AJ));}else{U=u;V=AB;W=n;X=AD;AJ=v;a=m+vec3(1,-1,1);b=x;c=AE;a=clover_noise_3d_offset(a,clover_noise_3d_hash(a));}}else{if(AI){U=q;V=n;W=s;X=z;AJ=r;a=x;b=m+vec3(1,1,-1);c=AA;b=clover_noise_3d_offset(b,clover_noise_3d_hash(b));}else{U=n;V=AD;W=z;X=AF;AJ=x;a=AE;b=AA;c=m+vec3(1,1,1);c=clover_noise_3d_offset(c,clover_noise_3d_hash(c));}}}vec3 AK=U-c;vec3 e=A-U;vec3 AL=cross(AK,V-c)*e;float AM=AL.x+AL.y+AL.z;vec3 AN=cross(AK,W-c)*e;float AO=AN.x+AN.y+AN.z;vec3 AP=cross(AK,X-c)*e;float AQ=AP.x+AP.y+AP.z;vec3 AR=cross(AK,AJ-c)*e;float AS=AR.x+AR.y+AR.z;vec3 AT=cross(AK,a-c)*e;float AU=AT.x+AT.y+AT.z;vec3 AV=cross(AK,b-c)*e;float AW=AV.x+AV.y+AV.z;vec3 AX,AY,AZ,Aa;AX=U;AY=c;if(AM>0.&&AQ<=0.){AZ=V;Aa=X;}else if(AQ>0.&&AO<=0.){AZ=X;Aa=W;}else if(AO>0.&&AW<=0.){AZ=W;Aa=b;}else if(AW>0.&&AS<=0.){AZ=b;Aa=AJ;}else if(AS>0.&&AU<=0.){AZ=AJ;Aa=a;}else{AZ=a;Aa=V;}vec3 Ab=A-AX;vec3 Ac=A-AY;vec3 Ad=AY-AX;vec3 Ae=AZ-AX;vec3 Af=Aa-AX;vec3 Ag=AZ-AY;vec3 Ah=Aa-AY;float Ai=dot(Ac,cross(Ah,Ag));float Aj=dot(Ab,cross(Ae,Af));float Ak=dot(Ab,cross(Af,Ad));float Al=dot(Ab,cross(Ad,Ae));float Am=1./dot(Ad,cross(Ae,Af));float j=Ai*Am;float k=Aj*Am;float An=Ak*Am;float l=Al*Am;float Ao=l*l*l*(1.-j*k*An);float Ap=j*j*j*(1.-l*k*An);float Aq=k*k*k*(1.-j*l*An);float Ar=An*An*An*(1.-j*k*l);float As=Ao+Ap+Aq+Ar;Ao/=As;Ap/=As;Aq/=As;Ar/=As;float At=clover_noise_3d_hash(AX);float Au=clover_noise_3d_hash(AY);float Av=clover_noise_3d_hash(AZ);float Aw=clover_noise_3d_hash(Aa);return Ap*At+Aq*Au+Ar*Av+Ao*Aw;}float fractal_clover_noise_3d(vec3 A,int Ax){float Ay=0.;float Az=0.;float BA=1.;float BB=1.;for(int BC=0;BC<10;BC++){if(BC>=Ax){break;}Ay+=clover_noise_3d(A*BB)*BA;Az+=BA;BA*=.4;BB*=2.5;}return Ay/Az;}vec3 curl_clover_noise_3d(vec3 A){const float BD=0.01;float j=clover_noise_3d(A);float BE=clover_noise_3d(A+vec3(BD,0.,0.));float BF=clover_noise_3d(A+vec3(0.,BD,0.));float BG=clover_noise_3d(A+vec3(0.,0.,BD));return normalize(vec3(j-BE,j-BF,j-BG));}vec3 curl_fractal_clover_noise_3d(vec3 A,int Ax){const float BD=0.01;float j=fractal_clover_noise_3d(A,Ax);float BE=fractal_clover_noise_3d(A+vec3(BD,0.,0.),Ax);float BF=fractal_clover_noise_3d(A+vec3(0.,BD,0.),Ax);float BG=fractal_clover_noise_3d(A+vec3(0.,0.,BD),Ax);return normalize(vec3(j-BE,j-BF,j-BG));}"},function(e,t,o){"use strict";o.r(t),t.default="vec3 RGBtoHSV(vec3 A){float B=max(A.r,max(A.g,A.b));float C=min(A.r,min(A.g,A.b));float D=B-C;vec3 E=vec3(0.,0.,B);if(B>C){E.y=D/B;if(A.r==B)E.x=(A.g-A.b)/D;else{if(A.g==B)E.x=2.+(A.b-A.r)/D;else E.x=4.+(A.r-A.g)/D;}E.x=fract(E.x/6.);}return E;}vec3 HSVtoRGB(vec3 F){vec4 G=vec4(1.,2./3.,1./3.,3.);vec3 H=abs(fract(F.xxx+G.xyz)*6.-G.www);return F.z*mix(G.xxx,clamp(H-G.xxx,0.,1.),F.y);}vec3 RGBtoHSL(vec3 I){vec3 J;float K=min(min(I.r,I.g),I.b);float L=max(max(I.r,I.g),I.b);float D=L-K;J.z=(L+K)/2.;if(D==0.){J.x=0.;J.y=0.;}else{if(J.z<0.5)J.y=D/(L+K);else J.y=D/(2.-L-K);float M=(((L-I.r)/6.)+(D/2.))/D;float N=(((L-I.g)/6.)+(D/2.))/D;float O=(((L-I.b)/6.)+(D/2.))/D;if(I.r==L)J.x=O-N;else if(I.g==L)J.x=(1./3.)+M-O;else if(I.b==L)J.x=(2./3.)+N-M;if(J.x<0.)J.x+=1.;else if(J.x>1.)J.x-=1.;}return J;}vec3 HSLtoRGB(vec3 F){vec3 A=clamp(abs(mod(F.x*6.+vec3(0.,4.,2.),6.)-3.)-1.,0.,1.);return F.z+F.y*(A-0.5)*(1.-abs(2.*F.z-1.));}vec3 RGBtoXYZ(vec3 F){vec3 P;P.x=(F.r>0.04045)?pow((F.r+0.055)/1.055,2.4):F.r/12.92;P.y=(F.g>0.04045)?pow((F.g+0.055)/1.055,2.4):F.g/12.92,P.z=(F.b>0.04045)?pow((F.b+0.055)/1.055,2.4):F.b/12.92;return 100.*P*mat3(0.4124,0.3576,0.1805,0.2126,0.7152,0.0722,0.0193,0.1192,0.9505);}vec3 XYZtoLAB(vec3 F){vec3 Q=F/vec3(95.047,100,108.883);vec3 R;R.x=(Q.x>0.008856)?pow(Q.x,1./3.):(7.787*Q.x)+(16./116.);R.y=(Q.y>0.008856)?pow(Q.y,1./3.):(7.787*Q.y)+(16./116.);R.z=(Q.z>0.008856)?pow(Q.z,1./3.):(7.787*Q.z)+(16./116.);return vec3((116.*R.y)-16.,500.*(R.x-R.y),200.*(R.y-R.z));}vec3 RGBtoLAB(vec3 F){vec3 S=XYZtoLAB(RGBtoXYZ(F));return vec3(S.x/100.,0.5+0.5*(S.y/127.),0.5+0.5*(S.z/127.));}vec3 T(vec3 F){float U=(F.x+16.)/116.;float V=F.y/500.+U;float W=U-F.z/200.;return vec3(95.047*((V>0.206897)?V*V*V:(V-16./116.)/7.787),100.000*((U>0.206897)?U*U*U:(U-16./116.)/7.787),108.883*((W>0.206897)?W*W*W:(W-16./116.)/7.787));}vec3 XYZtoRGB(vec3 F){vec3 R=F/100.*mat3(3.2406,-1.5372,-0.4986,-0.9689,1.8758,0.0415,0.0557,-0.2040,1.0570);vec3 X;X.x=(R.r>0.0031308)?((1.055*pow(R.r,(1./2.4)))-0.055):12.92*R.r;X.y=(R.g>0.0031308)?((1.055*pow(R.g,(1./2.4)))-0.055):12.92*R.g;X.z=(R.b>0.0031308)?((1.055*pow(R.b,(1./2.4)))-0.055):12.92*R.b;return X;}vec3 LABtoRGB(vec3 F){return XYZtoRGB(T(vec3(100.*F.x,2.*127.*(F.y-0.5),2.*127.*(F.z-0.5))));}"},function(e,t,o){"use strict";o.r(t),t.default='["perlin_noise","simplex_noise","clover_noise","voronoise"]'},function(e,t,o){"use strict";o.r(t),t.default='["perlin_noise_2d","perlin_noise_3d","perlin_noise_4d"]'},function(e,t,o){"use strict";o.r(t),t.default="vec4 perlin_noise_2d_permute(vec4 A){return mod(((A*34.)+1.)*A,289.);}vec2 perlin_noise_2d_fade(vec2 B){return B*B*B*(B*(B*6.-15.)+10.);}float perlin_noise_2d(vec2 C){vec4 D=floor(C.xyxy)+vec4(0.,0.,1.,1.);vec4 E=fract(C.xyxy)-vec4(0.,0.,1.,1.);D=mod(D,289.);vec4 F=D.xzxz;vec4 G=D.yyww;vec4 H=E.xzxz;vec4 I=E.yyww;vec4 J=perlin_noise_2d_permute(perlin_noise_2d_permute(F)+G);vec4 K=2.*fract(J*0.0243902439)-1.;vec4 L=abs(K)-0.5;vec4 M=floor(K+0.5);K=K-M;vec2 N=vec2(K.x,L.x);vec2 O=vec2(K.y,L.y);vec2 P=vec2(K.z,L.z);vec2 Q=vec2(K.w,L.w);vec4 R=1.79284291400159-0.85373472095314*vec4(dot(N,N),dot(P,P),dot(O,O),dot(Q,Q));N*=R.x;P*=R.y;O*=R.z;Q*=R.w;float S=dot(N,vec2(H.x,I.x));float T=dot(O,vec2(H.y,I.y));float U=dot(P,vec2(H.z,I.z));float V=dot(Q,vec2(H.w,I.w));vec2 W=perlin_noise_2d_fade(E.xy);vec2 X=mix(vec2(S,U),vec2(T,V),W.x);float Y=mix(X.x,X.y,W.y);return(2.3*Y)/2.+.5;}float fractal_perlin_noise_2d(vec2 Z,int a){float b=0.;float c=0.;float d=1.;for(int e=0;e<10;e++){if(e>=a){break;}b+=perlin_noise_2d(Z/d)*d;c+=d;d*=.5;}return b/c;}vec2 curl_perlin_noise_2d(vec2 Z){const float f=0.01;float g=perlin_noise_2d(Z);float A=perlin_noise_2d(Z+vec2(f,0.));float h=perlin_noise_2d(Z+vec2(0.,f));return normalize(vec2(g-A,g-h));}vec2 curl_fractal_perlin_noise_2d(vec2 Z,int a){const float f=0.01;float g=fractal_perlin_noise_2d(Z,a);float A=fractal_perlin_noise_2d(Z+vec2(f,0.),a);float h=fractal_perlin_noise_2d(Z+vec2(0.,f),a);return normalize(vec2(g-A,g-h));}"},function(e,t,o){"use strict";o.r(t),t.default="vec4 perlin_noise_3d_permute(vec4 A){return mod(((A*34.)+1.)*A,289.);}vec4 perlin_noise_3d_taylorInvSqrt(vec4 B){return 1.79284291400159-0.85373472095314*B;}vec3 perlin_noise_3d_fade(vec3 C){return C*C*C*(C*(C*6.-15.)+10.);}float perlin_noise_3d(vec3 D){vec3 E=floor(D);vec3 F=E+vec3(1.);E=mod(E,289.);F=mod(F,289.);vec3 G=fract(D);vec3 H=G-vec3(1.);vec4 I=vec4(E.x,F.x,E.x,F.x);vec4 J=vec4(E.yy,F.yy);vec4 K=E.zzzz;vec4 L=F.zzzz;vec4 M=perlin_noise_3d_permute(perlin_noise_3d_permute(I)+J);vec4 N=perlin_noise_3d_permute(M+K);vec4 O=perlin_noise_3d_permute(M+L);vec4 P=N/7.;vec4 Q=fract(floor(P)/7.)-0.5;P=fract(P);vec4 R=vec4(0.5)-abs(P)-abs(Q);vec4 S=step(R,vec4(0.));P-=S*(step(0.,P)-0.5);Q-=S*(step(0.,Q)-0.5);vec4 T=O/7.;vec4 U=fract(floor(T)/7.)-0.5;T=fract(T);vec4 V=vec4(0.5)-abs(T)-abs(U);vec4 W=step(V,vec4(0.));T-=W*(step(0.,T)-0.5);U-=W*(step(0.,U)-0.5);vec3 X=vec3(P.x,Q.x,R.x);vec3 Y=vec3(P.y,Q.y,R.y);vec3 Z=vec3(P.z,Q.z,R.z);vec3 a=vec3(P.w,Q.w,R.w);vec3 b=vec3(T.x,U.x,V.x);vec3 c=vec3(T.y,U.y,V.y);vec3 d=vec3(T.z,U.z,V.z);vec3 e=vec3(T.w,U.w,V.w);vec4 f=perlin_noise_3d_taylorInvSqrt(vec4(dot(X,X),dot(Z,Z),dot(Y,Y),dot(a,a)));X*=f.x;Z*=f.y;Y*=f.z;a*=f.w;vec4 g=perlin_noise_3d_taylorInvSqrt(vec4(dot(b,b),dot(d,d),dot(c,c),dot(e,e)));b*=g.x;d*=g.y;c*=g.z;e*=g.w;float h=dot(X,G);float i=dot(Y,vec3(H.x,G.yz));float j=dot(Z,vec3(G.x,H.y,G.z));float k=dot(a,vec3(H.xy,G.z));float l=dot(b,vec3(G.xy,H.z));float m=dot(c,vec3(H.x,G.y,H.z));float n=dot(d,vec3(G.x,H.yz));float o=dot(e,H);vec3 p=perlin_noise_3d_fade(G);vec4 q=mix(vec4(h,i,j,k),vec4(l,m,n,o),p.z);vec2 r=mix(q.xy,q.zw,p.y);float s=mix(r.x,r.y,p.x);return(2.2*s)/2.+.5;}float fractal_perlin_noise_3d(vec3 t,int u){float v=0.;float w=0.;float x=1.;for(int y=0;y<10;y++){if(y>=u){break;}v+=perlin_noise_3d(t/x)*x;w+=x;x*=.5;}return v/w;}vec3 curl_perlin_noise_3d(vec3 t){const float z=0.01;float AA=perlin_noise_3d(t);float A=perlin_noise_3d(t+vec3(z,0.,0.));float AB=perlin_noise_3d(t+vec3(0.,z,0.));float AC=perlin_noise_3d(t+vec3(0.,0.,z));return normalize(vec3(AA-A,AA-AB,AA-A));}vec3 curl_fractal_perlin_noise_3d(vec3 t,int u){const float z=0.01;float AA=fractal_perlin_noise_3d(t,u);float A=fractal_perlin_noise_3d(t+vec3(z,0.,0.),u);float AB=fractal_perlin_noise_3d(t+vec3(0.,z,0.),u);float AC=fractal_perlin_noise_3d(t+vec3(0.,0.,z),u);return normalize(vec3(AA-A,AA-AB,AA-AC));}"},function(e,t,o){"use strict";o.r(t),t.default="vec4 perlin_noise_4d_permute(vec4 A){return mod(((A*34.)+1.)*A,289.);}vec4 perlin_noise_4d_taylorInvSqrt(vec4 B){return 1.79284291400159-0.85373472095314*B;}vec4 perlin_noise_4d_fade(vec4 C){return C*C*C*(C*(C*6.-15.)+10.);}float perlin_noise_4d(vec4 D){vec4 E=floor(D);vec4 F=E+1.;E=mod(E,289.);F=mod(F,289.);vec4 G=fract(D);vec4 H=G-1.;vec4 I=vec4(E.x,F.x,E.x,F.x);vec4 J=vec4(E.yy,F.yy);vec4 K=vec4(E.zzzz);vec4 L=vec4(F.zzzz);vec4 M=vec4(E.wwww);vec4 N=vec4(F.wwww);vec4 O=perlin_noise_4d_permute(perlin_noise_4d_permute(I)+J);vec4 P=perlin_noise_4d_permute(O+K);vec4 Q=perlin_noise_4d_permute(O+L);vec4 R=perlin_noise_4d_permute(P+M);vec4 S=perlin_noise_4d_permute(P+N);vec4 T=perlin_noise_4d_permute(Q+M);vec4 U=perlin_noise_4d_permute(Q+N);vec4 V=R/7.;vec4 W=floor(V)/7.;vec4 X=floor(W)/6.;V=fract(V)-0.5;W=fract(W)-0.5;X=fract(X)-0.5;vec4 Y=vec4(0.75)-abs(V)-abs(W)-abs(X);vec4 Z=step(Y,vec4(0.));V-=Z*(step(0.,V)-0.5);W-=Z*(step(0.,W)-0.5);vec4 a=S/7.;vec4 b=floor(a)/7.;vec4 c=floor(b)/6.;a=fract(a)-0.5;b=fract(b)-0.5;c=fract(c)-0.5;vec4 d=vec4(0.75)-abs(a)-abs(b)-abs(c);vec4 e=step(d,vec4(0.));a-=e*(step(0.,a)-0.5);b-=e*(step(0.,b)-0.5);vec4 f=T/7.;vec4 g=floor(f)/7.;vec4 h=floor(g)/6.;f=fract(f)-0.5;g=fract(g)-0.5;h=fract(h)-0.5;vec4 i=vec4(0.75)-abs(f)-abs(g)-abs(h);vec4 j=step(i,vec4(0.));f-=j*(step(0.,f)-0.5);g-=j*(step(0.,g)-0.5);vec4 k=U/7.;vec4 l=floor(k)/7.;vec4 m=floor(l)/6.;k=fract(k)-0.5;l=fract(l)-0.5;m=fract(m)-0.5;vec4 n=vec4(0.75)-abs(k)-abs(l)-abs(m);vec4 o=step(n,vec4(0.));k-=o*(step(0.,k)-0.5);l-=o*(step(0.,l)-0.5);vec4 p=vec4(V.x,W.x,X.x,Y.x);vec4 q=vec4(V.y,W.y,X.y,Y.y);vec4 r=vec4(V.z,W.z,X.z,Y.z);vec4 s=vec4(V.w,W.w,X.w,Y.w);vec4 t=vec4(f.x,g.x,h.x,i.x);vec4 u=vec4(f.y,g.y,h.y,i.y);vec4 v=vec4(f.z,g.z,h.z,i.z);vec4 w=vec4(f.w,g.w,h.w,i.w);vec4 x=vec4(a.x,b.x,c.x,d.x);vec4 y=vec4(a.y,b.y,c.y,d.y);vec4 z=vec4(a.z,b.z,c.z,d.z);vec4 AA=vec4(a.w,b.w,c.w,d.w);vec4 AB=vec4(k.x,l.x,m.x,n.x);vec4 AC=vec4(k.y,l.y,m.y,n.y);vec4 AD=vec4(k.z,l.z,m.z,n.z);vec4 AE=vec4(k.w,l.w,m.w,n.w);vec4 AF=perlin_noise_4d_taylorInvSqrt(vec4(dot(p,p),dot(r,r),dot(q,q),dot(s,s)));p*=AF.x;r*=AF.y;q*=AF.z;s*=AF.w;vec4 AG=perlin_noise_4d_taylorInvSqrt(vec4(dot(x,x),dot(z,z),dot(y,y),dot(AA,AA)));x*=AG.x;z*=AG.y;y*=AG.z;AA*=AG.w;vec4 AH=perlin_noise_4d_taylorInvSqrt(vec4(dot(t,t),dot(v,v),dot(u,u),dot(w,w)));t*=AH.x;v*=AH.y;u*=AH.z;w*=AH.w;vec4 AI=perlin_noise_4d_taylorInvSqrt(vec4(dot(AB,AB),dot(AD,AD),dot(AC,AC),dot(AE,AE)));AB*=AI.x;AD*=AI.y;AC*=AI.z;AE*=AI.w;float AJ=dot(p,G);float AK=dot(q,vec4(H.x,G.yzw));float AL=dot(r,vec4(G.x,H.y,G.zw));float AM=dot(s,vec4(H.xy,G.zw));float AN=dot(t,vec4(G.xy,H.z,G.w));float AO=dot(u,vec4(H.x,G.y,H.z,G.w));float AP=dot(v,vec4(G.x,H.yz,G.w));float AQ=dot(w,vec4(H.xyz,G.w));float AR=dot(x,vec4(G.xyz,H.w));float AS=dot(y,vec4(H.x,G.yz,H.w));float AT=dot(z,vec4(G.x,H.y,G.z,H.w));float AU=dot(AA,vec4(H.xy,G.z,H.w));float AV=dot(AB,vec4(G.xy,H.zw));float AW=dot(AC,vec4(H.x,G.y,H.zw));float AX=dot(AD,vec4(G.x,H.yzw));float AY=dot(AE,H);vec4 AZ=perlin_noise_4d_fade(G);vec4 Aa=mix(vec4(AJ,AK,AL,AM),vec4(AR,AS,AT,AU),AZ.w);vec4 Ab=mix(vec4(AN,AO,AP,AQ),vec4(AV,AW,AX,AY),AZ.w);vec4 Ac=mix(Aa,Ab,AZ.z);vec2 Ad=mix(Ac.xy,Ac.zw,AZ.y);float Ae=mix(Ad.x,Ad.y,AZ.x);return(2.2*Ae)/2.+.5;}float fractal_perlin_noise_4d(vec4 Af,int Ag){float Ah=0.;float Ai=0.;float Aj=1.;for(int Ak=0;Ak<10;Ak++){if(Ak>=Ag){break;}Ah+=perlin_noise_4d(Af/Aj)*Aj;Ai+=Aj;Aj*=.5;}return Ah/Ai;}vec4 curl_perlin_noise_4d(vec4 Af){const float Al=0.01;float Am=perlin_noise_4d(Af);float A=perlin_noise_4d(Af+vec4(Al,0.,0.,0.));float An=perlin_noise_4d(Af+vec4(0.,Al,0.,0.));float Ao=perlin_noise_4d(Af+vec4(0.,0.,Al,0.));float Ap=perlin_noise_4d(Af+vec4(0.,0.,0.,Al));return normalize(vec4(Am-A,Am-An,Am-A,Am-Ap));}vec4 curl_fractal_perlin_noise_4d(vec4 Af,int Ag){const float Al=0.01;float Am=fractal_perlin_noise_4d(Af,Ag);float A=fractal_perlin_noise_4d(Af+vec4(Al,0.,0.,0.),Ag);float An=fractal_perlin_noise_4d(Af+vec4(0.,Al,0.,0.),Ag);float Ao=fractal_perlin_noise_4d(Af+vec4(0.,0.,Al,0.),Ag);float Ap=fractal_perlin_noise_4d(Af+vec4(0.,0.,0.,Al),Ag);return normalize(vec4(Am-A,Am-An,Am-A,Am-Ap));}"},function(e,t,o){"use strict";o.r(t),t.default='["sdf","__raymarch__","surface"]'},function(e,t,o){"use strict";o.r(t),t.default="float sdf_sphere_basic(vec3 A){return length(A)-1.;}float sdf_sphere(vec3 A,vec3 B,float C){return sdf_sphere_basic((A-B)/C)*C;}float sdf_box_basic(vec3 A,vec3 D){vec3 E=abs(A)-D;return length(max(E,0.))+min(max(E.x,max(E.y,E.z)),0.);}float sdf_box(vec3 A,vec3 F,vec3 G){vec3 H=abs(F-G);vec3 I=(F+G)/2.;return sdf_box_basic(A-I,H);}float sdf_plane(vec3 A,vec4 J){return dot(A,J.xyz)+J.w;}float sdf_union(float K,float L){return min(K,L);}float sdf_smooth_union(float K,float L,float M){float N=clamp(0.5+0.5*(L-K)/M,0.,1.);return mix(L,K,N)-M*N*(1.-N);}float sdf_intersection(float K,float L){return max(K,L);}float sdf_smooth_intersection(float K,float L,float M){float N=clamp(0.5-0.5*(L-K)/M,0.,1.);return mix(L,K,N)+M*N*(1.-N);}float sdf_subtraction(float K,float L){return sdf_intersection(K,-L);}float sdf_smooth_subtraction(float K,float L,float M){float N=clamp(0.5-0.5*(L+K)/M,0.,1.);return mix(L,-K,N)+M*N*(1.-N);}"},function(e,t,o){"use strict";o.r(t),t.default='["simplex_noise_2d","simplex_noise_3d","simplex_noise_4d"]'},function(e,t,o){"use strict";o.r(t),t.default="vec3 simplex_noise_2d_permute(vec3 A){return mod(((A*34.)+1.)*A,289.);}float simplex_noise_2d(vec2 B){const vec4 C=vec4(0.211324865405187,0.366025403784439,-0.577350269189626,0.024390243902439);vec2 D=floor(B+dot(B,C.yy));vec2 E=B-D+dot(D,C.xx);vec2 F;F=(E.x>E.y)?vec2(1.,0.):vec2(0.,1.);vec4 G=E.xyxy+C.xxzz;G.xy-=F;D=mod(D,289.);vec3 H=simplex_noise_2d_permute(simplex_noise_2d_permute(D.y+vec3(0.,F.y,1.))+D.x+vec3(0.,F.x,1.));vec3 I=max(0.5-vec3(dot(E,E),dot(G.xy,G.xy),dot(G.zw,G.zw)),0.);I=I*I;I=I*I;vec3 A=2.*fract(H*C.www)-1.;vec3 J=abs(A)-0.5;vec3 K=floor(A+0.5);vec3 L=A-K;I*=1.79284291400159-0.85373472095314*(L*L+J*J);vec3 M;M.x=L.x*E.x+J.x*E.y;M.yz=L.yz*G.xz+J.yz*G.yw;return(130.*dot(I,M))/2.+.5;}float fractal_simplex_noise_2d(vec2 H,int N){float O=0.;float P=0.;float Q=1.;for(int R=0;R<10;R++){if(R>=N){break;}O+=simplex_noise_2d(H/Q)*Q;P+=Q;Q*=.5;}return O/P;}vec2 curl_simplex_noise_2d(vec2 H){const float S=0.01;float B=simplex_noise_2d(H);float A=simplex_noise_2d(H+vec2(S,0.));float T=simplex_noise_2d(H+vec2(0.,S));return normalize(vec2(B-A,B-T));}vec2 curl_fractal_simplex_noise_2d(vec2 H,int N){const float S=0.01;float B=fractal_simplex_noise_2d(H,N);float A=fractal_simplex_noise_2d(H+vec2(S,0.),N);float T=fractal_simplex_noise_2d(H+vec2(0.,S),N);return normalize(vec2(B-A,B-T));}"},function(e,t,o){"use strict";o.r(t),t.default="vec4 simplex_noise_3d_permute(vec4 A){return mod(((A*34.)+1.)*A,289.);}vec4 simplex_noise_3d_taylorInvSqrt(vec4 B){return 1.79284291400159-0.85373472095314*B;}float simplex_noise_3d(vec3 C){const vec2 D=vec2(1./6.,1./3.);const vec4 E=vec4(0.,0.5,1.,2.);vec3 F=floor(C+dot(C,D.yyy));vec3 G=C-F+dot(F,D.xxx);vec3 H=step(G.yzx,G.xyz);vec3 I=1.-H;vec3 J=min(H.xyz,I.zxy);vec3 K=max(H.xyz,I.zxy);vec3 L=G-J+1.*D.xxx;vec3 M=G-K+2.*D.xxx;vec3 N=G-1.+3.*D.xxx;F=mod(F,289.);vec4 O=simplex_noise_3d_permute(simplex_noise_3d_permute(simplex_noise_3d_permute(F.z+vec4(0.,J.z,K.z,1.))+F.y+vec4(0.,J.y,K.y,1.))+F.x+vec4(0.,J.x,K.x,1.));float P=1./7.;vec3 Q=P*E.wyz-E.xzx;vec4 R=O-49.*floor(O*Q.z*Q.z);vec4 S=floor(R*Q.z);vec4 T=floor(R-7.*S);vec4 A=S*Q.x+Q.yyyy;vec4 U=T*Q.x+Q.yyyy;vec4 V=1.-abs(A)-abs(U);vec4 W=vec4(A.xy,U.xy);vec4 X=vec4(A.zw,U.zw);vec4 Y=floor(W)*2.+1.;vec4 Z=floor(X)*2.+1.;vec4 a=-step(V,vec4(0.));vec4 b=W.xzyw+Y.xzyw*a.xxyy;vec4 c=X.xzyw+Z.xzyw*a.zzww;vec3 d=vec3(b.xy,V.x);vec3 e=vec3(b.zw,V.y);vec3 f=vec3(c.xy,V.z);vec3 g=vec3(c.zw,V.w);vec4 h=simplex_noise_3d_taylorInvSqrt(vec4(dot(d,d),dot(e,e),dot(f,f),dot(g,g)));d*=h.x;e*=h.y;f*=h.z;g*=h.w;vec4 i=max(0.6-vec4(dot(G,G),dot(L,L),dot(M,M),dot(N,N)),0.);i=i*i;return(42.*dot(i*i,vec4(dot(d,G),dot(e,L),dot(f,M),dot(g,N))))/2.+.5;}float fractal_simplex_noise_3d(vec3 O,int j){float k=0.;float l=0.;float m=1.;for(int n=0;n<10;n++){if(n>=j){break;}k+=simplex_noise_3d(O/m)*m;l+=m;m*=.5;}return k/l;}vec3 curl_simplex_noise_3d(vec3 O){const float o=0.01;float C=simplex_noise_3d(O);float A=simplex_noise_3d(O+vec3(o,0.,0.));float U=simplex_noise_3d(O+vec3(0.,o,0.));float p=simplex_noise_3d(O+vec3(0.,0.,o));return normalize(vec3(C-A,C-U,C-A));}vec3 curl_fractal_simplex_noise_3d(vec3 O,int j){const float o=0.01;float C=fractal_simplex_noise_3d(O,j);float A=fractal_simplex_noise_3d(O+vec3(o,0.,0.),j);float U=fractal_simplex_noise_3d(O+vec3(0.,o,0.),j);float p=fractal_simplex_noise_3d(O+vec3(0.,0.,o),j);return normalize(vec3(C-A,C-U,C-p));}"},function(e,t,o){"use strict";o.r(t),t.default="vec4 simplex_noise_4d_permute(vec4 A){return mod(((A*34.)+1.)*A,289.);}float simplex_noise_4d_permute(float A){return floor(mod(((A*34.)+1.)*A,289.));}vec4 simplex_noise_4d_taylorInvSqrt(vec4 B){return 1.79284291400159-0.85373472095314*B;}float simplex_noise_4d_taylorInvSqrt(float B){return 1.79284291400159-0.85373472095314*B;}vec4 simplex_noise_4d_grad(float C,vec4 D){const vec4 E=vec4(1.,1.,1.,-1.);vec4 F,G;F.xyz=floor(fract(vec3(C)*D.xyz)*7.)*D.z-1.;F.w=1.5-dot(abs(F.xyz),E.xyz);G=vec4(lessThan(F,vec4(0.)));F.xyz=F.xyz+(G.xyz*2.-1.)*G.www;return F;}float simplex_noise_4d(vec4 H){const vec2 I=vec2(0.138196601125010504,0.309016994374947451);vec4 J=floor(H+dot(H,I.yyyy));vec4 K=H-J+dot(J,I.xxxx);vec4 L;vec3 M=step(K.yzw,K.xxx);vec3 N=step(K.zww,K.yyz);L.x=M.x+M.y+M.z;L.yzw=1.-M;L.y+=N.x+N.y;L.zw+=1.-N.xy;L.z+=N.z;L.w+=1.-N.z;vec4 O=clamp(L,0.,1.);vec4 P=clamp(L-1.,0.,1.);vec4 Q=clamp(L-2.,0.,1.);vec4 R=K-Q+1.*I.xxxx;vec4 S=K-P+2.*I.xxxx;vec4 T=K-O+3.*I.xxxx;vec4 U=K-1.+4.*I.xxxx;J=mod(J,289.);float V=simplex_noise_4d_permute(simplex_noise_4d_permute(simplex_noise_4d_permute(simplex_noise_4d_permute(J.w)+J.z)+J.y)+J.x);vec4 W=simplex_noise_4d_permute(simplex_noise_4d_permute(simplex_noise_4d_permute(simplex_noise_4d_permute(J.w+vec4(Q.w,P.w,O.w,1.))+J.z+vec4(Q.z,P.z,O.z,1.))+J.y+vec4(Q.y,P.y,O.y,1.))+J.x+vec4(Q.x,P.x,O.x,1.));vec4 D=vec4(1./294.,1./49.,1./7.,0.);vec4 X=simplex_noise_4d_grad(V,D);vec4 Y=simplex_noise_4d_grad(W.x,D);vec4 Z=simplex_noise_4d_grad(W.y,D);vec4 a=simplex_noise_4d_grad(W.z,D);vec4 b=simplex_noise_4d_grad(W.w,D);vec4 c=simplex_noise_4d_taylorInvSqrt(vec4(dot(X,X),dot(Y,Y),dot(Z,Z),dot(a,a)));X*=c.x;Y*=c.y;Z*=c.z;a*=c.w;b*=simplex_noise_4d_taylorInvSqrt(dot(b,b));vec3 d=max(0.6-vec3(dot(K,K),dot(R,R),dot(S,S)),0.);vec2 e=max(0.6-vec2(dot(T,T),dot(U,U)),0.);d=d*d;e=e*e;return(49.*(dot(d*d,vec3(dot(X,K),dot(Y,R),dot(Z,S)))+dot(e*e,vec2(dot(a,T),dot(b,U)))))/2.+.5;}float fractal_simplex_noise_4d(vec4 F,int f){float g=0.;float h=0.;float i=1.;for(int j=0;j<10;j++){if(j>=f){break;}g+=simplex_noise_4d(F/i)*i;h+=i;i*=.5;}return g/h;}vec4 curl_simplex_noise_4d(vec4 F){const float k=0.01;float H=simplex_noise_4d(F);float A=simplex_noise_4d(F+vec4(k,0.,0.,0.));float l=simplex_noise_4d(F+vec4(0.,k,0.,0.));float m=simplex_noise_4d(F+vec4(0.,0.,k,0.));float n=simplex_noise_4d(F+vec4(0.,0.,0.,k));return normalize(vec4(H-A,H-l,H-A,H-n));}vec4 curl_fractal_simplex_noise_4d(vec4 F,int f){const float k=0.01;float H=fractal_simplex_noise_4d(F,f);float A=fractal_simplex_noise_4d(F+vec4(k,0.,0.,0.),f);float l=fractal_simplex_noise_4d(F+vec4(0.,k,0.,0.),f);float m=fractal_simplex_noise_4d(F+vec4(0.,0.,k,0.),f);float n=fractal_simplex_noise_4d(F+vec4(0.,0.,0.,k),f);return normalize(vec4(H-A,H-l,H-A,H-n));}"},function(e,t,o){"use strict";o.r(t),t.default="struct Surface{int id;float distance;vec3 diffuse;vec3 ambient;vec3 specular;};Surface create_surface(int id){return Surface(id,999999999.,vec3(0.,0.,0.),vec3(0.,0.,0.),vec3(0.,0.,0.));}Surface compare_surfaces(Surface A,Surface B){if(A.distance<B.distance){return A;}return B;}vec3 surface_color(Surface C,vec3 D,vec3 E,vec3 F){D=normalize(D);E=normalize(E);F=normalize(F);float G=clamp(dot(E,F),0.,1.);vec3 H=reflect(-F,E);float I=clamp(dot(D,H),0.,1.);vec3 J=C.ambient;J+=C.diffuse*G;J+=C.specular*pow(I,5.);return J;}"},function(e,t,o){"use strict";o.r(t),t.default='["voronoise_2d","voronoise_3d"]'},function(e,t,o){"use strict";o.r(t),t.default="float voronoise_2d_hash(vec2 A){return fract(1e4*sin(17.*A.x+A.y*0.1)*(0.1+abs(sin(A.y*13.+A.x))));}vec2 voronoise_2d_hash2d(vec2 A){return vec2(voronoise_2d_hash(A+vec2(0.5,0)),voronoise_2d_hash(A+vec2(0,0.5)));}float voronoise_2d(vec2 A,float B,float C){vec2 D=floor(A);vec2 E=fract(A);float F=1.-C;F=F*F;F=F*F;F=1.+63.*F;float G=0.;float H=0.;for(int I=-2;I<=2;I++){for(int J=-2;J<=2;J++){vec2 K=vec2(I,J);float L=voronoise_2d_hash(D+K);vec2 M=voronoise_2d_hash2d(D+K)*B;vec2 N=K-E+M;float O=dot(N,N);float P=pow(1.-smoothstep(0.,2.,sqrt(O)),F);G+=P*L;H+=P;}}return G/H;}float fractal_voronoise_2d(vec2 A,float B,float C,int Q){float R=0.;float S=0.;float T=1.;float U=1.;for(int V=0;V<10;V++){if(V>=Q){break;}R+=voronoise_2d(A*U,B,C)*T;S+=T;T*=.4;U*=2.5;}return R/S;}vec2 curl_voronoise_2d(vec2 A,float B,float C){const float W=0.01;float X=voronoise_2d(A,B,C);float I=voronoise_2d(A+vec2(W,0.),B,C);float J=voronoise_2d(A+vec2(0.,W),B,C);return normalize(vec2(X-I,X-J));}vec2 curl_fractal_voronoise_2d(vec2 A,float B,float C,int Q){const float W=0.01;float X=fractal_voronoise_2d(A,B,C,Q);float I=fractal_voronoise_2d(A+vec2(W,0.),B,C,Q);float J=fractal_voronoise_2d(A+vec2(0.,W),B,C,Q);return normalize(vec2(X-I,X-J));}"},function(e,t,o){"use strict";o.r(t),t.default="float voronoise_3d_hash(vec3 A){return fract(1e4*sin(17.*A.x+A.y*0.1)*(0.1+abs(sin(A.y*13.+A.x-A.z))*sin(12.*A.z-sin(A.x*10.))));}vec3 voronoise_3d_hash3d(vec3 A){return vec3(voronoise_3d_hash(A+vec3(0.5,0,0)),voronoise_3d_hash(A+vec3(0,0.5,0)),voronoise_3d_hash(A+vec3(0,0,0.5)));}float voronoise_3d(vec3 A,float B,float C){vec3 D=floor(A);vec3 E=fract(A);float F=1.-C;F=F*F;F=F*F;F=1.+31.*F;float G=0.;float H=0.;for(int I=-2;I<=2;I++){for(int J=-2;J<=2;J++){for(int K=-2;K<=2;K++){vec3 L=vec3(I,J,K);float M=voronoise_3d_hash(D+L);vec3 N=voronoise_3d_hash3d(D+L)*B;vec3 O=L-E+N;float P=dot(O,O);float Q=pow(1.-smoothstep(0.,2.,sqrt(P)),F);G+=Q*M;H+=Q;}}}return G/H;}float fractal_voronoise_3d(vec3 A,float B,float C,int R){float S=0.;float T=0.;float U=1.;float V=1.;for(int W=0;W<10;W++){if(W>=R){break;}S+=voronoise_3d(A*V,B,C)*U;T+=U;U*=.4;V*=2.5;}return S/T;}vec3 curl_voronoise_3d(vec3 A,float B,float C){const float X=0.01;float Y=voronoise_3d(A,B,C);float I=voronoise_3d(A+vec3(X,0.,0.),B,C);float J=voronoise_3d(A+vec3(0.,X,0.),B,C);float K=voronoise_3d(A+vec3(0.,0.,X),B,C);return normalize(vec3(Y-I,Y-J,Y-K));}vec3 curl_fractal_voronoise_3d(vec3 A,float B,float C,int R){const float X=0.01;float Y=fractal_voronoise_3d(A,B,C,R);float I=fractal_voronoise_3d(A+vec3(X,0.,0.),B,C,R);float J=fractal_voronoise_3d(A+vec3(0.,X,0.),B,C,R);float K=fractal_voronoise_3d(A+vec3(0.,0.,X),B,C,R);return normalize(vec3(Y-I,Y-J,Y-K));}"},function(e,t,o){var r=function(e){"use strict";var t=Object.prototype,o=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,o){return e[t]=o}}function l(e,t,o,r){var n=t&&t.prototype instanceof u?t:u,i=Object.create(n.prototype),a=new w(r||[]);return i._invoke=function(e,t,o){var r="suspendedStart";return function(n,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw i;return z()}for(o.method=n,o.arg=i;;){var a=o.delegate;if(a){var c=x(a,o);if(c){if(c===f)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===r)throw r="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r="executing";var l=s(e,t,o);if("normal"===l.type){if(r=o.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(r="completed",o.method="throw",o.arg=l.arg)}}}(e,o,a),i}function s(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function u(){}function v(){}function d(){}var _={};_[n]=function(){return this};var h=Object.getPrototypeOf,p=h&&h(h(E([])));p&&p!==t&&o.call(p,n)&&(_=p);var y=d.prototype=u.prototype=Object.create(_);function A(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function m(e,t){var r;this._invoke=function(n,i){function a(){return new t((function(r,a){!function r(n,i,a,c){var l=s(e[n],e,i);if("throw"!==l.type){var f=l.arg,u=f.value;return u&&"object"==typeof u&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(u).then((function(e){f.value=e,a(f)}),(function(e){return r("throw",e,a,c)}))}c(l.arg)}(n,i,r,a)}))}return r=r?r.then(a,a):a()}}function x(e,t){var o=e.iterator[t.method];if(void 0===o){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(o,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function g(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(g,this),this.reset(!0)}function E(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:z}}function z(){return{value:void 0,done:!0}}return v.prototype=y.constructor=d,d.constructor=v,v.displayName=c(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},A(m.prototype),m.prototype[i]=function(){return this},e.AsyncIterator=m,e.async=function(t,o,r,n,i){void 0===i&&(i=Promise);var a=new m(l(t,o,r,n),i);return e.isGeneratorFunction(o)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(y),c(y,a,"Generator"),y[n]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var r=t.pop();if(r in e)return o.value=r,o.done=!1,o}return o.done=!0,o}},e.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(o,r){return a.type="throw",a.arg=e,t.next=o,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),b(o),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var r=o.completion;if("throw"===r.type){var n=r.arg;b(o)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:E(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=void 0),f}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,o){var r={"./__global__.fsh":0,"./__raymarch__.fsh":1,"./camera.fsh":2,"./clover_noise":3,"./clover_noise_2d.fsh":4,"./clover_noise_3d.fsh":5,"./color.fsh":6,"./noise":7,"./perlin_noise":8,"./perlin_noise_2d.fsh":9,"./perlin_noise_3d.fsh":10,"./perlin_noise_4d.fsh":11,"./raymarch":12,"./sdf.fsh":13,"./simplex_noise":14,"./simplex_noise_2d.fsh":15,"./simplex_noise_3d.fsh":16,"./simplex_noise_4d.fsh":17,"./surface.fsh":18,"./voronoise":19,"./voronoise_2d.fsh":20,"./voronoise_3d.fsh":21};function n(e){var t=i(e);return o(t)}function i(e){if(!o.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=23},function(e,t,o){var r={"./__global__.fsh":0,"./__raymarch__.fsh":1,"./camera.fsh":2,"./clover_noise":3,"./clover_noise_2d.fsh":4,"./clover_noise_3d.fsh":5,"./color.fsh":6,"./noise":7,"./perlin_noise":8,"./perlin_noise_2d.fsh":9,"./perlin_noise_3d.fsh":10,"./perlin_noise_4d.fsh":11,"./raymarch":12,"./sdf.fsh":13,"./simplex_noise":14,"./simplex_noise_2d.fsh":15,"./simplex_noise_3d.fsh":16,"./simplex_noise_4d.fsh":17,"./surface.fsh":18,"./voronoise":19,"./voronoise_2d.fsh":20,"./voronoise_3d.fsh":21};function n(e){var t=i(e);return o(t)}function i(e){if(!o.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=24},function(e,t,o){"use strict";o.r(t);o(22);function r(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return c=e.done,e},e:function(e){l=!0,a=e},f:function(){try{c||null==o.return||o.return()}finally{if(l)throw a}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var i={initShaderProgram:function(e,t,o){var r=i.loadShader(e,e.VERTEX_SHADER,t),n=i.loadShader(e,e.FRAGMENT_SHADER,o);if(null==r||null==n)return null;var a=e.createProgram();return e.attachShader(a,r),e.attachShader(a,n),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)?a:(console.groupCollapsed("Shader Sketch Program Link Error"),console.error(e.getProgramInfoLog(a)),console.groupEnd(),null)},loadShader:function(e,t,o){var r=e.createShader(t);return e.shaderSource(r,o),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)?r:(console.groupCollapsed("Shader Sketch Shader Compilation Error"),console.error(e.getShaderInfoLog(r)),console.groupCollapsed("Shader Source..."),console.log(o),console.log(o.split("\n")),console.groupEnd(),console.groupEnd(),e.deleteShader(r),null)},removeAll:function(e,t){var o=e;return t.forEach((function(e){return o=o.split(e).join("")})),o},parseUniformValues:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return"string"==typeof t[0]&&(t[0]=i.removeAll(t[0],[" ","[","]"]),t=t[0].split(",").map(parseFloat)),t[0]instanceof Array&&(t=t[0]),t},textWrap:function(e,t,o){if(o==1/0)return{lines:[t],width:e.measureText(t).width};var n,i=[""],a=0,c=r(t.split(" "));try{for(c.s();!(n=c.n()).done;){var l=n.value,s="".concat(i[i.length-1]," ").concat(l).trim(),f=e.measureText(s).width;f>o&&""!=i[i.length-1]?(i.push(l),(f=e.measureText(l).width)>a&&(a=f)):(f>a&&(a=f),i[i.length-1]=s)}}catch(e){c.e(e)}finally{c.f()}return{lines:i,width:a}},determineFontHeight:function(e){var t=document.getElementsByTagName("body")[0],o=document.createElement("div"),r=document.createTextNode("M");o.appendChild(r),o.setAttribute("style",e),t.appendChild(o);var n=o.offsetHeight;return t.removeChild(o),n},generateTypographyCanvas:function(e){var t=e.text,o=e.fontSize,n=e.fontFamily,a=e.fontStyle,c=e.fontWeight,l=e.textWrap,s=e.textAlign,f=e.margin,u=document.createElement("canvas"),v=u.getContext("2d"),d="".concat(a," ").concat(c," ").concat(o,"px ").concat(n);v.textAlign=s,v.font=d;var _=i.textWrap(v,t,l),h=_.lines,p=_.width,y=i.determineFontHeight("font: ".concat(d,";")),A=y*h.length;u.width=p+2*f,u.height=A+2*f,v.font=d,v.textBaseline="top",v.fillStyle="black",v.fillRect(0,0,u.width,u.height),v.fillStyle="white",v.translate(0,u.height),v.scale(1,-1);var m,x=f,g=r(h);try{for(g.s();!(m=g.n()).done;){var b=m.value;v.fillText(b,f,x),x+=y}}catch(e){g.e(e)}finally{g.f()}return u}},a=i;function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u={int:{length:1,int:!0,setter:"1i",aliases:["int","i","int1","i1","1int","1i"]},float:{length:1,int:!1,setter:"1f",aliases:["float","f","float1","f1","1float","1f"]},ivec2:{length:2,int:!0,setter:"2i",aliases:["int2","i2","2int","2i","vec2i","ivec2"]},vec2:{length:2,int:!1,setter:"2f",aliases:["float2","f2","2float","2f","vec2"]},ivec3:{length:3,int:!0,setter:"3i",aliases:["int3","i3","3int","3i","vec3i","ivec3"]},vec3:{length:3,int:!1,setter:"3f",aliases:["float3","f3","3float","3f","vec3"]},ivec4:{length:4,int:!0,setter:"4i",aliases:["int4","i4","4int","4i","vec4i","ivec4"]},vec4:{length:4,int:!1,setter:"4f",aliases:["float4","f4","4float","4f","vec4"]}},v=function(){function e(t,o){s(this,e),this.name=t,o=e.getType(o),this.type=o.type,this.arrayLength=o.arrayLength;for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];this.setValue.apply(this,n)}var t,o,r;return t=e,r=[{key:"getType",value:function(e){var t="unknown",o=-1,r=e.split("[");for(var n in r.length>1&&(r[1]=parseInt(r[1].replace("]","")),o=r[1]),u)u[n].aliases.indexOf(r[0])>-1&&(t=n);return{type:t,arrayLength:o}}},{key:"getValue",value:function(e,t){for(var o=arguments.length,r=new Array(o>2?o-2:0),n=2;n<o;n++)r[n-2]=arguments[n];for(var i=a.parseUniformValues.apply(a,r),c=u[e].length*(t>-1?t:1);i.length<c;)i.push(0);return i=i.slice(0,c),u[e].int&&(i=i.map(Math.floor)),t>-1&&(i=[i]),i}}],(o=[{key:"setValue",value:function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];this.value=e.getValue.apply(e,[this.type,this.arrayLength].concat(o))}},{key:"getUniformDeclaration",value:function(){return"uniform ".concat(this.type," ").concat(this.name).concat(this.arrayLength>-1?"[".concat(this.arrayLength,"]"):"",";")}},{key:"loadUniformLocation",value:function(e,t){this.location=e.getUniformLocation(t,this.name)}},{key:"setUniformValue",value:function(e){e["uniform".concat(u[this.type].setter).concat(this.arrayLength>-1?"v":"")].apply(e,[this.location].concat(c(this.value)))}}])&&f(t.prototype,o),r&&f(t,r),e}();function d(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=p(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==o.return||o.return()}finally{if(c)throw i}}}}function p(e,t){if(e){if("string"==typeof e)return y(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var A={};var m,x=function(){function e(t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.code=o}var t,o,r;return t=e,r=[{key:"registerImport",value:function(t,o){A[t]=new e(t,o)}},{key:"getImport",value:function(e){return A[e]}},{key:"resolveImports",value:function(t){if(t.code instanceof Array){var o,r=[],n=h(t.code);try{for(n.s();!(o=n.n()).done;){var i=o.value;r.push.apply(r,_(e.resolveImports(e.getImport(i))))}}catch(e){n.e(e)}finally{n.f()}return r}return[t]}},{key:"resolveCode",value:function(t){t=function e(t){var o,r=[],n=h(t);try{for(n.s();!(o=n.n()).done;){var i=o.value;i instanceof Array?r.push.apply(r,_(e(i))):r.push(i)}}catch(e){n.e(e)}finally{n.f()}return r}(t.map((function(t){return e.resolveImports(t)})));var o,r=[],n=h(t);try{for(n.s();!(o=n.n()).done;){var i=o.value;-1==r.indexOf(i)&&r.push(i)}}catch(e){n.e(e)}finally{n.f()}return r.map((function(e){return e.getCode()})).join("\n")}}],(o=[{key:"getCode",value:function(){return"// --------------------\n// Import: ".concat(this.name,"\n// --------------------\n\n").concat(this.code,"\n")}}])&&d(t.prototype,o),r&&d(t,r),e}(),g=h(o(23).keys());try{for(g.s();!(m=g.n()).done;){var b=m.value,w=o(24)("./".concat(b.substring(2))).default;b.endsWith(".fsh")||(w=JSON.parse(w)),b=b.replace("./","").replace(".fsh",""),A[b]=new x(b,w)}}catch(e){g.e(e)}finally{g.f()}var E=x;function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.blending,i=void 0===n?"linear":n,a=r.wrapping,c=void 0===a?"clamp":a,l=r.update,s=void 0!==l&&l;z(this,e),this.name=t,this.image=o,this.image instanceof ne&&(this.image=this.image.shaderSketch.buffer),this.blending=null!=i?i:"linear",this.wrapping=null!=c?c:"clamp",this.shouldUpdate=null!=s&&s,this.resolutionUniform=new v("".concat(this.name,"_resolution"),"vec2",this.image.width,this.image.height),this.uniforms=[this.resolutionUniform]}var t,o,r;return t=e,(o=[{key:"update",value:function(e){this.resolutionUniform.setValue(this.image.width,this.image.height),this.shouldUpdate&&this.bindTexture(e)}},{key:"getUniformDeclaration",value:function(){return"uniform sampler2D ".concat(this.name,";")}},{key:"loadUniformLocation",value:function(e,t){this.location=e.getUniformLocation(t,this.name)}},{key:"bindTexture",value:function(e){this.unbindTexture(e),this.texture=e.createTexture();var t,o,r=e.RGBA,n=e.RGBA,i=e.UNSIGNED_BYTE;switch(e.bindTexture(e.TEXTURE_2D,this.texture),e.texImage2D(e.TEXTURE_2D,0,r,n,i,this.image),this.blending.toLowerCase()){case"linear":t=e.LINEAR;break;case"nearest":t=e.NEAREST}switch(this.wrapping.toLowerCase()){case"repeat":o=e.REPEAT;break;case"clamp":o=e.CLAMP_TO_EDGE;break;case"mirror":o=e.MIRRORED_REPEAT}e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,o)}},{key:"unbindTexture",value:function(e){this.texture&&e.deleteTexture(this.texture)}}])&&S(t.prototype,o),r&&S(t,r),e}();function O(e,t,o){return(O=F()?Reflect.construct:function(e,t,o){var r=[null];r.push.apply(r,t);var n=new(Function.bind.apply(e,r));return o&&I(n,o.prototype),n}).apply(null,arguments)}function F(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=T(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==o.return||o.return()}finally{if(c)throw i}}}}function T(e,t){if(e){if("string"==typeof e)return k(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function L(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=["TEXTURE0","TEXTURE1","TEXTURE2","TEXTURE3","TEXTURE4","TEXTURE5","TEXTURE6","TEXTURE7"],U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.buffer=document.createElement("canvas"),this.buffer.style.display="none",this.bufferCtx=this.buffer.getContext("2d"),this.gl=t.canvasElt.getContext("webgl",{preserveDrawingBuffer:!0}),this.uniforms=[],this.textures=[],this.imports=["__global__"],this.program=null,this.shouldCompileProgram=!0,this.positionBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,-1,-1,1,1,-1,1,1]),this.gl.STATIC_DRAW),this.addUniform("viewportSize","vec2",0,0),this.frameCount=0,this.addUniform("frameCount","int",0),this.startTime=new Date,this.addUniform("timeElapsed","float",0),this.addUniform("mousePosition","vec2",0,0),this.addUniform("mouseState","int",0)}var t,o,r;return t=e,(o=[{key:"getExtraFragmentCode",value:function(){var e,t="precision highp float;",o=B(this.getUniforms());try{for(o.s();!(e=o.n()).done;){var r=e.value;t+="\n".concat(r.getUniformDeclaration())}}catch(e){o.e(e)}finally{o.f()}var n,i=B(this.textures);try{for(i.s();!(n=i.n()).done;){var a=n.value;t+="\n".concat(a.getUniformDeclaration())}}catch(e){i.e(e)}finally{i.f()}return t+="\n"+E.resolveCode(this.imports.map((function(e){return E.getImport(e)})))}},{key:"compileProgram",value:function(){this.shouldCompileProgram=!1;var e="void main() {\n\tgl_FragColor = vec4(gl_FragCoord.xy / viewportSize, 0., 1.);\n}";if(null!=this.element.fragmentShaderElt&&(e=this.element.fragmentShaderElt.textContent),e=this.getExtraFragmentCode()+"\n"+e,this.program=a.initShaderProgram(this.gl,"attribute vec4 position;\n\nvoid main() {\n\tgl_Position = position;\n}",e),null!=this.program){var t,o=B(this.getUniforms());try{for(o.s();!(t=o.n()).done;)t.value.loadUniformLocation(this.gl,this.program)}catch(e){o.e(e)}finally{o.f()}var r,n=B(this.textures);try{for(n.s();!(r=n.n()).done;)r.value.loadUniformLocation(this.gl,this.program)}catch(e){n.e(e)}finally{n.f()}}}},{key:"canRender",value:function(){return null!=this.program}},{key:"render",value:function(){if(this.shouldCompileProgram&&this.compileProgram(),this.canRender()){this.bufferCtx.clearRect(0,0,this.buffer.width,this.buffer.height),this.bufferCtx.drawImage(this.element.canvasElt,0,0),this.frameCount++,this.setUniform("frameCount",this.frameCount),this.setUniform("timeElapsed",(new Date-this.startTime)/1e3),this.gl.useProgram(this.program),this.bindTextures();var e,t=B(this.getUniforms());try{for(t.s();!(e=t.n()).done;)e.value.setUniformValue(this.gl)}catch(e){t.e(e)}finally{t.f()}this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);var o=this.gl.FLOAT,r=this.gl.getAttribLocation(this.program,"position");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer),this.gl.vertexAttribPointer(r,2,o,!1,0,0),this.gl.enableVertexAttribArray(r),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.bufferCtx.clearRect(0,0,this.buffer.width,this.buffer.height),this.bufferCtx.drawImage(this.element.canvasElt,0,0)}}},{key:"bindTextures",value:function(){var e,t=0,o=B(this.textures);try{for(o.s();!(e=o.n()).done;){var r=e.value;if(t>=P.length)break;var n=this.gl[P[t]];this.gl.activeTexture(n),r.update(this.gl),this.gl.bindTexture(this.gl.TEXTURE_2D,r.texture),this.gl.uniform1i(r.location,t),t++}}catch(e){o.e(e)}finally{o.f()}}},{key:"getUniforms",value:function(){var e,t=this.uniforms,o=B(this.textures);try{for(o.s();!(e=o.n()).done;){var r=e.value;t=[].concat(R(t),R(r.uniforms))}}catch(e){o.e(e)}finally{o.f()}return t}},{key:"addUniform",value:function(e,t){for(var o=arguments.length,r=new Array(o>2?o-2:0),n=2;n<o;n++)r[n-2]=arguments[n];this.uniforms.push(O(v,[e,t].concat(r))),this.shouldCompileProgram=!0}},{key:"getUniform",value:function(e){var t,o=B(this.getUniforms());try{for(o.s();!(t=o.n()).done;){var r=t.value;if(r.name==e)return r}}catch(e){o.e(e)}finally{o.f()}return null}},{key:"setUniform",value:function(e){var t=this.getUniform(e);if(null!=t){for(var o=arguments.length,r=new Array(o>1?o-1:0),n=1;n<o;n++)r[n-1]=arguments[n];t.setValue.apply(t,r)}}},{key:"addTexture",value:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var r=O(C,t);r.bindTexture(this.gl),this.textures.push(r)}},{key:"getTexture",value:function(e){var t,o=B(this.textures);try{for(o.s();!(t=o.n()).done;){var r=t.value;if(r.name==e)return r}}catch(e){o.e(e)}finally{o.f()}return null}},{key:"deleteTexture",value:function(e){var t=this.getTexture(e);null!=t&&(t.unbindTexture(this.gl),this.textures.splice(this.textures.indexOf(t),1))}}])&&L(t.prototype,o),r&&L(t,r),e}();function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){var t="function"==typeof Map?new Map:void 0;return(N=function(e){if(null===e||(o=e,-1===Function.toString.call(o).indexOf("[native code]")))return e;var o;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return V(e,arguments,W(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),J(r,e)})(e)}function V(e,t,o){return(V=X()?Reflect.construct:function(e,t,o){var r=[null];r.push.apply(r,t);var n=new(Function.bind.apply(e,r));return o&&J(n,o.prototype),n}).apply(null,arguments)}function X(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(c,e);var t,o,r,n,i,a=(t=c,o=X(),function(){var e,r=W(t);if(o){var n=W(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return j(this,e)});function c(){return G(this,c),a.apply(this,arguments)}return r=c,(n=[{key:"connectedCallback",value:function(){this.update(this.parentNode)}},{key:"update",value:function(e){e instanceof ne&&(this.parent=e,this.parent.updateChild({child:this,add:!0}))}},{key:"disconnectedCallback",value:function(){this.parent instanceof ne&&(this.parent.updateChild({child:this,add:!1}),this.parent=null)}}])&&H(r.prototype,n),i&&H(r,i),c}(N(HTMLElement));function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Y(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==o.return||o.return()}finally{if(c)throw i}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function Z(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){var t="function"==typeof Map?new Map:void 0;return($=function(e){if(null===e||(o=e,-1===Function.toString.call(o).indexOf("[native code]")))return e;var o;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ee(e,arguments,re(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),oe(r,e)})(e)}function ee(e,t,o){return(ee=te()?Reflect.construct:function(e,t,o){var r=[null];r.push.apply(r,t);var n=new(Function.bind.apply(e,r));return o&&oe(n,o.prototype),n}).apply(null,arguments)}function te(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(l,e);var t,o,r,n,i,c=(t=l,o=te(),function(){var e,r=re(t);if(o){var n=re(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return q(this,e)});function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(e=c.call(this)).shadow=e.attachShadow({mode:"open"}),e.styleElt=document.createElement("style"),e.styleElt.textContent=":host {\n\tposition: relative;\n\tdisplay: inline-block;\n\twidth: 250px;\n\theight: 250px;\n}\n\n:host > canvas {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n}",e.canvasElt=document.createElement("canvas"),e.shadow.appendChild(e.styleElt),e.shadow.appendChild(e.canvasElt),e.mounted=!1,e.loadingTextures=[],e.fragmentShaderElt=null,e}return r=l,(n=[{key:"getMousePosition",value:function(e){return[e.x-this.rect.x,this.height-e.y+this.rect.y]}},{key:"connectedCallback",value:function(){var e=this;this.mounted=!0,this.shaderSketch=new U(this),this.shadow.appendChild(this.shaderSketch.buffer),this.onmousedown=function(t){e.setUniform("mousePosition",e.getMousePosition(t)),e.setUniform("mouseState",1)},this.onmousemove=function(t){e.setUniform("mousePosition",e.getMousePosition(t))},this.onmouseup=function(t){e.setUniform("mousePosition",e.getMousePosition(t)),e.setUniform("mouseState",0)};var t,o=Q(this.childNodes);try{for(o.s();!(t=o.n()).done;){var r=t.value;r instanceof K&&r.update(this)}}catch(e){o.e(e)}finally{o.f()}this.render()}},{key:"disconnectedCallback",value:function(){this.mounted=!1,this.shadow.removeChild(this.shaderSketch.buffer),this.shaderSketch=null,this.onmousedown=null,this.onmousemove=null,this.onmouseup=null}},{key:"updateChild",value:function(e){var t=this,o=e.child,r=e.add;switch(o.tagName.toLowerCase()){case"fragment-shader":this.fragmentShaderElt=r?o:null;break;case"shader-uniform":if(!r)break;var n=o.getAttribute("name"),i=o.getAttribute("type"),c=o.getAttribute("value");null==this.getUniform(n)?this.addUniform(n,i,c):this.setUniform(n,c);break;case"shader-import":var l=o.getAttribute("name");r?this.shaderSketch.imports.push(l):this.shaderSketch.imports.splice(this.shaderSketch.imports.indexOf(l),-1);break;case"shader-texture":var s=o.getAttribute("name"),f=o.getAttribute("src"),u=o.getAttribute("blending"),v=o.getAttribute("wrapping");if(r){if(null==this.shaderSketch.getTexture(s)&&-1==this.loadingTextures.indexOf(s)){this.loadingTextures.push(s);var d=new Image;d.onload=function(){t.addTexture(s,d,{blending:u,wrapping:v,update:!1})},d.src=f}}else this.shaderSketch.deleteTexture(s);break;case"shader-canvas-texture":var _=o.getAttribute("name"),h=o.getAttribute("selector"),p=o.getAttribute("blending"),y=o.getAttribute("wrapping");if(r){var A=document.querySelector(h);if(null==A)break;this.addTexture(_,A,{blending:p,wrapping:y,update:!0})}else this.shaderSketch.deleteTexture(_);break;case"shader-typography":var m,x,g,b,w,E,z,S=o.getAttribute("name"),C=o.textContent,O=null!==(m=parseFloat(o.getAttribute("font-size")))&&void 0!==m?m:24,F=null!==(x=o.getAttribute("font-family"))&&void 0!==x?x:"sans-serif",I=null!==(g=o.getAttribute("font-style"))&&void 0!==g?g:"normal",R=null!==(b=o.getAttribute("font-weight"))&&void 0!==b?b:"normal",B=null!==(w=parseFloat(o.getAttribute("text-wrap")))&&void 0!==w?w:1/0,T=null!==(E=o.getAttribute("text-align"))&&void 0!==E?E:"center",k=null!==(z=parseFloat(o.getAttribute("margin")))&&void 0!==z?z:0,L=o.getAttribute("blending"),P=o.getAttribute("wrapping");if(r){var U=a.generateTypographyCanvas({text:C,fontSize:O,fontFamily:F,fontStyle:I,fontWeight:R,textWrap:B,textAlign:T,margin:k});this.addTexture(S,U,{blending:L,wrapping:P,update:!1})}else this.shaderSketch.deleteTexture(S)}this.shaderSketch.shouldCompileProgram=!0}},{key:"render",value:function(){var e=this;this.mounted&&requestAnimationFrame((function(){e.render()})),this.updateSize(),this.shaderSketch.render()}},{key:"updateSize",value:function(){this.rect=this.getBoundingClientRect();var e=this.rect,t=e.width,o=e.height,r=this.width,n=this.height;t==r&&o==n||(this.width=t,this.height=o,this.canvasElt.width=t,this.canvasElt.style.width=t>=1?t:1,this.canvasElt.height=o,this.canvasElt.style.height=o>=1?o:1,this.shaderSketch.buffer.width=t,this.shaderSketch.buffer.style.width=t>=1?t:1,this.shaderSketch.buffer.height=o,this.shaderSketch.buffer.style.height=o>=1?o:1,this.shaderSketch.gl.viewport(0,0,t,o),this.setUniform("viewportSize",t,o))}},{key:"addUniform",value:function(){var e;(e=this.shaderSketch).addUniform.apply(e,arguments)}},{key:"getUniform",value:function(){var e;return(e=this.shaderSketch).getUniform.apply(e,arguments)}},{key:"setUniform",value:function(){var e;(e=this.shaderSketch).setUniform.apply(e,arguments)}},{key:"addTexture",value:function(e,t,o){var r=o.blending,n=o.wrapping,i=o.update;this.shaderSketch.addTexture(e,t,{blending:r,wrapping:n,update:i}),this.shaderSketch.shouldCompileProgram=!0,this.loadingTextures.indexOf(e)>-1&&this.loadingTextures.splice(this.loadingTextures.indexOf(e),1)}}])&&Z(r.prototype,n),i&&Z(r,i),l}($(HTMLElement));function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=ue(e);if(t){var n=ue(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return fe(this,o)}}function fe(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}customElements.define("fragment-shader",function(e){ce(o,e);var t=se(o);function o(){return ae(this,o),t.apply(this,arguments)}return o}(K)),customElements.define("shader-uniform",function(e){ce(o,e);var t=se(o);function o(){return ae(this,o),t.apply(this,arguments)}return o}(K)),customElements.define("shader-import",function(e){ce(o,e);var t=se(o);function o(){return ae(this,o),t.apply(this,arguments)}return o}(K)),customElements.define("shader-texture",function(e){ce(o,e);var t=se(o);function o(){return ae(this,o),t.apply(this,arguments)}return o}(K)),customElements.define("shader-canvas-texture",function(e){ce(o,e);var t=se(o);function o(){return ae(this,o),t.apply(this,arguments)}return o}(K)),customElements.define("shader-typography",function(e){ce(o,e);var t=se(o);function o(){return ae(this,o),t.apply(this,arguments)}return o}(K)),customElements.define("shader-sketch",ne)}]);